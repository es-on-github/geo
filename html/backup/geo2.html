<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Template</title>
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type" />
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">

      html, body {

        height: 100%;

        margin: 0;

      }



      #map {

        height: 100%;

      } </style>
<script src="http://maps.google.com/maps/api/js?key=ABQIAAAAINiCv1CXS_d3g44NQHYzIBSxLhPCOFxwBUVaE2lZEI1T-6miRhQWNOe47RAa2EljooosPl1fs5kGPA&amp;sensor=false" type="text/javascript"></script>
<script type="text/javascript"> 

      /** 

       * Called on the intiial page load. 

       */ 

      var map; 

      var marker; 

      function init() { 

        var mapCenter = new google.maps.LatLng(0, 0); 

        map = new google.maps.Map(document.getElementById('map'), { 

          zoom: 13, 

          center: new google.maps.LatLng(14.597466, 121.0092), 

          mapTypeId: google.maps.MapTypeId.ROADMAP 

        }); 

 

        marker = new google.maps.Marker(); 

        window.setTimeout(getUsersLocation, 2000); 

      } 

 

      function getUsersLocation() { 

        if (navigator.geolocation) { 

          navigator.geolocation.getCurrentPosition(function(position) { 

            var pos = new google.maps.LatLng(position.coords.latitude, 

              position.coords.longitude); 

            map.panTo(pos); 

            marker.setPosition(pos); 

            marker.setMap(map); 

          }, function() { 

            // Can find the users location 

            // Cheat for the talk 

            marker.setPosition(new google.maps.LatLng(14.597466, 121.0092)); 

            marker.setMap(map); 

          }); 

        } else { 

          marker.setPosition(new google.maps.LatLng(14.597466, 121.0092)); 

          marker.setMap(map); 

        } 

      } 

 

      // Register an event listener to fire when the page finishes loading. 

      google.maps.event.addDomListener(window, 'load', init); 

    </script>
</head>
<body>
<div id="map"></div>
</body>
</html>
